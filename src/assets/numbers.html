<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English Numbers</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            height: 100%;
            width: 100%;
            overflow: hidden;
        }

        body {
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #f0f0f0;
            font-family: Arial, sans-serif;
        }

        .container {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            padding: 10px;
        }

        .title {
            text-align: center;
            font-size: clamp(1.5rem, 5vw, 2rem);
            margin-bottom: 10px;
            color: #333;
            flex-shrink: 0;
        }

        .numbers-grid {
            display: grid;
            /* Grid responsivo con columnas de igual ancho */
            grid-template-columns: repeat(auto-fit, minmax(min(100%, 150px), 1fr));
            gap: 10px;
            flex-grow: 1;
            padding: 5px;
            height: calc(100% - 60px);
        }

        .number {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            color: white;
            border-radius: 10px;
            cursor: pointer;
            transition: transform 0.2s;
            user-select: none;
            height: 100%;
            width: 100%;
            padding: 5px;
            text-align: center;
            /* Asegurar que el contenido no desborde */
            overflow: hidden;
            /* Agregando espacio m√≠nimo para el contenido */
            min-height: 100px;
        }

        .digit {
            /* TAMA√ëO DE LOS N√öMEROS */
            font-size: clamp(2rem, 6vw, 4rem);
            margin-bottom: 2px;
            line-height: 1;
        }

        .word {
            /* TAMA√ëO DE LAS PALABRAS EN INGL√âS */
            font-size: clamp(1rem, 3vw, 1.8rem);
            /* Asegurar que las palabras largas se ajusten */
            width: 100%;
            overflow-wrap: break-word;
            hyphens: auto;
            padding: 0 2px;
            line-height: 1.2;
        }

        .number:hover {
            transform: scale(1.1);
        }

        .number:active {
            transform: scale(0.95);
        }

        /* Colorful numbers */
        .number:nth-child(6n+1) { background-color: #FF1744; }  /* Red */
        .number:nth-child(6n+2) { background-color: #2979FF; }  /* Blue */
        .number:nth-child(6n+3) { background-color: #FFD600; }  /* Yellow */
        .number:nth-child(6n+4) { background-color: #00E5FF; }  /* Cyan */
        .number:nth-child(6n+5) { background-color: #00E676; }  /* Green */
        .number:nth-child(6n) { background-color: #D500F9; }    /* Purple */

        @media (max-width: 480px) {
            .numbers-grid {
                /* Ajuste espec√≠fico para m√≥viles */
                grid-template-columns: repeat(2, 1fr);
                gap: 5px;
                padding: 5px;
            }

            .number {
                /* Ajustar el padding en m√≥viles */
                padding: 5px 2px;
                min-height: 80px;
            }

            .digit {
                /* Reducir tama√±o de n√∫meros en m√≥viles */
                font-size: clamp(1.5rem, 5vw, 2.5rem);
                margin-bottom: 2px;
            }

            .word {
                /* Reducir tama√±o de fuente en m√≥viles para palabras largas */
                font-size: clamp(0.8rem, 2.5vw, 1.2rem);
                line-height: 1.1;
            }
            
            .container {
                padding: 5px;
            }

            .title {
                margin-bottom: 5px;
                font-size: clamp(1.2rem, 4vw, 1.8rem);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div>
            <h2 class="title">üòâ Numbers in English üòç</h2>
        </div>
        <div class="numbers-grid">
            <div class="number" data-number="1" data-word="one">
                <div class="digit">1</div>
                <div class="word">One</div>
            </div>
            <div class="number" data-number="2" data-word="two">
                <div class="digit">2</div>
                <div class="word">Two</div>
            </div>
            <div class="number" data-number="3" data-word="three">
                <div class="digit">3</div>
                <div class="word">Three</div>
            </div>
            <div class="number" data-number="4" data-word="four">
                <div class="digit">4</div>
                <div class="word">Four</div>
            </div>
            <div class="number" data-number="5" data-word="five">
                <div class="digit">5</div>
                <div class="word">Five</div>
            </div>
            <div class="number" data-number="6" data-word="six">
                <div class="digit">6</div>
                <div class="word">Six</div>
            </div>
            <div class="number" data-number="7" data-word="seven">
                <div class="digit">7</div>
                <div class="word">Seven</div>
            </div>
            <div class="number" data-number="8" data-word="eight">
                <div class="digit">8</div>
                <div class="word">Eight</div>
            </div>
            <div class="number" data-number="9" data-word="nine">
                <div class="digit">9</div>
                <div class="word">Nine</div>
            </div>
            <div class="number" data-number="10" data-word="ten">
                <div class="digit">10</div>
                <div class="word">Ten</div>
            </div>
            <div class="number" data-number="11" data-word="eleven">
                <div class="digit">11</div>
                <div class="word">Eleven</div>
            </div>
            <div class="number" data-number="12" data-word="twelve">
                <div class="digit">12</div>
                <div class="word">Twelve</div>
            </div>
            <div class="number" data-number="13" data-word="thirteen">
                <div class="digit">13</div>
                <div class="word">Thirteen</div>
            </div>
            <div class="number" data-number="14" data-word="fourteen">
                <div class="digit">14</div>
                <div class="word">Fourteen</div>
            </div>
            <div class="number" data-number="15" data-word="fifteen">
                <div class="digit">15</div>
                <div class="word">Fifteen</div>
            </div>
            <div class="number" data-number="16" data-word="sixteen">
                <div class="digit">16</div>
                <div class="word">Sixteen</div>
            </div>
            <div class="number" data-number="17" data-word="seventeen">
                <div class="digit">17</div>
                <div class="word">Seventeen</div>
            </div>
            <div class="number" data-number="18" data-word="eighteen">
                <div class="digit">18</div>
                <div class="word">Eighteen</div>
            </div>
            <div class="number" data-number="19" data-word="nineteen">
                <div class="digit">19</div>
                <div class="word">Nineteen</div>
            </div>
            <div class="number" data-number="20" data-word="twenty">
                <div class="digit">20</div>
                <div class="word">Twenty</div>
            </div>
        </div>
    </div>

    <script>
        // Inicializar el sintetizador de voz
        const synth = window.speechSynthesis;
        let voices = [];

        // Control de reproducci√≥n
        const playingNumbers = new Set();

        // Funci√≥n para cargar las voces
        function loadVoices() {
            voices = synth.getVoices();
            console.log('Voces disponibles:', voices.map(v => `${v.name} (${v.lang})`));
        }

        // Cargar voces cuando est√©n disponibles
        loadVoices();
        if (speechSynthesis.onvoiceschanged !== undefined) {
            speechSynthesis.onvoiceschanged = loadVoices;
        }

        document.querySelectorAll('.number').forEach(number => {
            number.addEventListener('click', () => {
                const word = number.dataset.word;
                
                // Si cualquier n√∫mero est√° siendo reproducido, ignorar el clic
                if (playingNumbers.size > 0) {
                    console.log('Hay una reproducci√≥n en curso, ignorando clic');
                    return;
                }
                
                console.log('Reproduciendo n√∫mero:', word);
                playingNumbers.add(word);
                
                // Deshabilitar visualmente todos los n√∫meros durante la reproducci√≥n
                document.querySelectorAll('.number').forEach(n => {
                    n.style.opacity = '0.6';
                    n.style.cursor = 'default';
                });
                // Mantener el n√∫mero actual visible
                number.style.opacity = '1';
                
                // Crear y configurar la voz
                const utterance = new SpeechSynthesisUtterance(word);
                utterance.lang = 'en-US';
                utterance.volume = 1;
                utterance.rate = 0.8;
                
                // Configurar el evento para cuando termine la pronunciaci√≥n
                utterance.onend = () => {
                    playingNumbers.delete(word);
                    // Restaurar la apariencia de todos los n√∫meros
                    document.querySelectorAll('.number').forEach(n => {
                        n.style.opacity = '1';
                        n.style.cursor = 'pointer';
                    });
                };
                
                // Buscar una voz femenina en ingl√©s
                const femaleVoice = voices.find(voice => 
                    voice.lang.includes('en') && voice.name.toLowerCase().includes('female'));
                
                if (femaleVoice) {
                    utterance.voice = femaleVoice;
                }
                
                try {
                    // Intentar reproducir la voz
                    synth.speak(utterance);
                    
                    // Tambi√©n intentar reproducir el archivo de audio si existe
                    const audio = new Audio(`sounds/${word.toLowerCase()}.mp3`);
                    audio.onerror = (e) => {
                        console.log('Error al cargar el archivo de audio:', e);
                        playingNumbers.delete(word);
                        // Restaurar la apariencia de todos los n√∫meros
                        document.querySelectorAll('.number').forEach(n => {
                            n.style.opacity = '1';
                            n.style.cursor = 'pointer';
                        });
                    };
                    
                    // Cuando el audio termine, eliminar el n√∫mero del conjunto de reproducci√≥n
                    audio.onended = () => {
                        playingNumbers.delete(word);
                        // Restaurar la apariencia de todos los n√∫meros
                        document.querySelectorAll('.number').forEach(n => {
                            n.style.opacity = '1';
                            n.style.cursor = 'pointer';
                        });
                    };
                    
                    audio.play().catch(e => {
                        console.log('Error al reproducir el audio:', e);
                        playingNumbers.delete(word);
                        // Restaurar la apariencia de todos los n√∫meros
                        document.querySelectorAll('.number').forEach(n => {
                            n.style.opacity = '1';
                            n.style.cursor = 'pointer';
                        });
                    });
                } catch (error) {
                    console.error('Error al reproducir sonido:', error);
                    playingNumbers.delete(word);
                    // Restaurar la apariencia de todos los n√∫meros
                    document.querySelectorAll('.number').forEach(n => {
                        n.style.opacity = '1';
                        n.style.cursor = 'pointer';
                    });
                }
            });
        });
    </script>
</body>
</html>